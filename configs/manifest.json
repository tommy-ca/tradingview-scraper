{
  "$schema": "./manifest.schema.json",
  "default_profile": "production",
  "profiles": {
    "production": {
      "description": "Institutional high-integrity daily production run",
      "data": {
        "lookback_days": 400,
        "batch_size": 5,
        "backfill": true,
        "gapfill": true,
        "max_symbols": 200,
        "strict_health": true,
        "min_days_floor": 320
      },
      "selection": {
        "top_n": 3,
        "threshold": 0.4
      },
      "risk": {
        "cluster_cap": 0.25
      },
      "backtest": {
        "train_window": 120,
        "test_window": 20,
        "step_size": 20,
        "backtest_simulator": "custom",
        "backtest_slippage": 0.0005,
        "backtest_commission": 0.0001,
        "backtest_cash_asset": "USDT",
        "baseline_symbol": "AMEX:SPY"
      },
      "tournament": {
        "engines": "custom,skfolio,riskfolio,pyportfolioopt,cvxportfolio",
        "profiles": "min_variance,hrp,max_sharpe,barbell"
      },
      "discovery": {
        "enabled_markets": ["futures", "crypto", "cfd", "forex", "bonds", "etf"],
        "futures_long": { "base_preset": "futures_trend_momentum.yaml" },
        "futures_short": { "base_preset": "futures_trend_momentum_short.yaml" },
        "futures_mr_long": { "base_preset": "futures_mean_reversion.yaml" },
        "futures_mr_short": { "base_preset": "futures_mean_reversion_short.yaml" },
        "futures_metals_long": { "base_preset": "futures_metals_trend_momentum.yaml" },
        "futures_metals_short": { "base_preset": "futures_metals_trend_momentum_short.yaml" },
        "cfd_long": { "base_preset": "cfd_trend_momentum.yaml" },
        "cfd_short": { "base_preset": "cfd_trend_momentum_short.yaml" },
        "forex_long": { "base_preset": "forex_trend_momentum.yaml" },
        "forex_short": { "base_preset": "forex_trend_momentum_short.yaml" },
        "forex_mr_long": { "base_preset": "forex_mean_reversion.yaml" },
        "forex_mr_short": { "base_preset": "forex_mean_reversion_short.yaml" },
        "etf_long": { "base_preset": "us_etf_trend_momentum.yaml" },
        "etf_short": { "base_preset": "us_etf_trend_momentum_short.yaml" },
        "stocks_long": { "base_preset": "us_stocks_trend_momentum.yaml" },
        "stocks_short": { "base_preset": "us_stocks_trend_momentum_short.yaml" },
        "stocks_mr_long": { "base_preset": "us_stocks_mean_reversion.yaml" },
        "stocks_mr_short": { "base_preset": "us_stocks_mean_reversion_short.yaml" },
        "crypto_binance_spot_long": { "base_preset": "crypto_cex_trend_binance_spot_daily_long.yaml" },
        "crypto_binance_spot_short": { "base_preset": "crypto_cex_trend_binance_spot_daily_short.yaml" },
        "crypto_binance_perp_long": { "base_preset": "crypto_cex_trend_binance_perp_daily_long.yaml" },
        "crypto_binance_perp_short": { "base_preset": "crypto_cex_trend_binance_perp_daily_short.yaml" },
        "crypto_okx_spot_long": { "base_preset": "crypto_cex_trend_okx_spot_daily_long.yaml" },
        "crypto_okx_spot_short": { "base_preset": "crypto_cex_trend_okx_spot_daily_short.yaml" },
        "crypto_okx_perp_long": { "base_preset": "crypto_cex_trend_okx_perp_daily_long.yaml" },
        "crypto_okx_perp_short": { "base_preset": "crypto_cex_trend_okx_perp_daily_short.yaml" },
        "crypto_bybit_spot_long": { "base_preset": "crypto_cex_trend_bybit_spot_daily_long.yaml" },
        "crypto_bybit_spot_short": { "base_preset": "crypto_cex_trend_bybit_spot_daily_short.yaml" },
        "crypto_bybit_perp_long": { "base_preset": "crypto_cex_trend_bybit_perp_daily_long.yaml" },
        "crypto_bybit_perp_short": { "base_preset": "crypto_cex_trend_bybit_perp_daily_short.yaml" },
        "crypto_bitget_spot_long": { "base_preset": "crypto_cex_trend_bitget_spot_daily_long.yaml" },
        "crypto_bitget_spot_short": { "base_preset": "crypto_cex_trend_bitget_spot_daily_short.yaml" },
        "crypto_bitget_perp_long": { "base_preset": "crypto_cex_trend_bitget_perp_daily_long.yaml" },
        "crypto_bitget_perp_short": { "base_preset": "crypto_cex_trend_bitget_perp_daily_short.yaml" }
      },
      "env": {
        "META_REFRESH": "1",
        "META_AUDIT": "1",
        "GIST_ID": "e888e1eab0b86447c90c26e92ec4dc36"
      }
    },
    "repro_dev": {
      "description": "Lightweight development profile for fast end-to-end testing",
      "data": {
        "lookback_days": 40,
        "batch_size": 10,
        "backfill": true,
        "gapfill": true,
        "max_symbols": 50,
        "strict_health": false
      },
      "selection": {
        "top_n": 2,
        "threshold": 0.5
      },
      "risk": {
        "cluster_cap": 0.25
      },
      "backtest": {
        "train_window": 30,
        "test_window": 10,
        "step_size": 10
      },
      "tournament": {
        "engines": "custom",
        "profiles": "min_variance,hrp"
      },
      "discovery": {
        "enabled_markets": ["futures", "crypto"],
        "futures_long": { "base_preset": "futures_trend_momentum.yaml", "limit": 10 },
        "futures_short": { "base_preset": "futures_trend_momentum_short.yaml", "limit": 10 },
        "cfd_long": { "base_preset": "cfd_trend_momentum.yaml", "limit": 5 },
        "cfd_short": { "base_preset": "cfd_trend_momentum_short.yaml", "limit": 5 },
        "crypto_binance_perp_long": { "base_preset": "crypto_cex_trend_binance_perp_daily_long.yaml", "limit": 10 },
        "crypto_binance_perp_short": { "base_preset": "crypto_cex_trend_binance_perp_daily_short.yaml", "limit": 10 }
      },
      "env": {
        "META_REFRESH": "0",
        "META_AUDIT": "0"
      }
    }
  }
}
